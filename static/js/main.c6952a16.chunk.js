(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(22)},18:function(e,t,a){},20:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(11),s=a.n(r),i=(a(18),a(2)),o=a(3),u=a(6),c=a(4),d=a(5),h=a(1),b=(a(20),a(9)),m=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"options"},l.a.createElement("h3",null,"Options"),l.a.createElement(b.CheckboxGroup,{className:"checkbox-group",checkboxDepth:2,name:"options",value:this.props.options,onChange:this.props.onOptionsChange},l.a.createElement("label",null,l.a.createElement(b.Checkbox,{value:"kidsTable"})," Kids' Table"),l.a.createElement("label",null,l.a.createElement(b.Checkbox,{value:"changeTables"})," Always Change Tables"),l.a.createElement("label",null,l.a.createElement(b.Checkbox,{value:"changePeople"})," Play With Different People")))}}]),t}(n.Component),p=function(e){return l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},e.title),l.a.createElement("input",{className:"form-input",name:e.name,type:e.inputType,value:e.content,onChange:e.controlFunc,placeholder:e.placeholder}))},f=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"renderKidsCount",value:function(){var e=this.props,t=e.totalKids,a=e.handleNumKidsChange;return l.a.createElement(p,{inputType:"number",title:"Number of Kids: ",name:"totalKids",controlFunc:a,content:t})}},{key:"render",value:function(){var e=this.props,t=e.totalPlayers,a=e.totalRounds,n=e.handleNumPlayersChange,r=e.handleNumRoundsChange,s=e.isKidsTable;return l.a.createElement("div",{className:"details"},l.a.createElement("h3",null,"Details"),l.a.createElement(p,{inputType:"number",title:"Number of Players: ",name:"totalPlayers",controlFunc:n,content:t}),l.a.createElement(p,{inputType:"number",title:"Number of Rounds: ",name:"totalRounds",controlFunc:r,content:a}),s&&this.renderKidsCount())}}]),t}(n.Component),y=a(8),g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).handleTableNameChange=a.handleTableNameChange.bind(Object(h.a)(Object(h.a)(a))),a.handleTableSizeChange=a.handleTableSizeChange.bind(Object(h.a)(Object(h.a)(a))),a.addTableRow=a.addTableRow.bind(Object(h.a)(Object(h.a)(a))),a.removeTable=a.removeTable.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleTableNameChange",value:function(e){var t=this.props,a=t.tables,n=t.handleTablesChange,l=e.target.value,r=parseInt(e.target.parentNode.parentNode.id);n(a.map(function(e){return e.id===r?Object(y.a)({},e,{name:l}):e}))}},{key:"handleTableSizeChange",value:function(e){var t=this.props,a=t.tables,n=t.handleTablesChange,l=parseInt(e.target.value)?parseInt(e.target.value):0,r=parseInt(e.target.parentNode.parentNode.id);n(a.map(function(e){return e.id===r?Object(y.a)({},e,{size:l}):e}))}},{key:"removeTable",value:function(e){var t=this.props,a=t.tables,n=t.handleTablesChange,l=parseInt(e.target.parentNode.id);n(a.filter(function(e){return e.id!==l}))}},{key:"addTableRow",value:function(){var e=this.props,t=e.tables,a=e.handleTablesChange,n=t.length+1,l="Table "+n;a(t.concat({id:n,name:l,size:4}))}},{key:"renderTableRows",value:function(){var e=this,t=this.props.tables;return l.a.createElement("ol",{className:"table-list"},t.map(function(t){return e.renderTableRow(t)}))}},{key:"renderTableRow",value:function(e){return l.a.createElement("li",{key:e.id,id:e.id,className:"table-row"},l.a.createElement(p,{inputType:"text",title:"Name: ",name:"tableName",controlFunc:this.handleTableNameChange,content:e.name}),l.a.createElement(p,{inputType:"number",title:"Size: ",name:"tableSize",controlFunc:this.handleTableSizeChange,content:e.size}),l.a.createElement("button",{type:"button",className:"remove-button",onClick:this.removeTable},"X"))}},{key:"render",value:function(){return l.a.createElement("div",{className:"tables"},l.a.createElement("h3",null,"Tables"),this.renderTableRows(),l.a.createElement("button",{type:"button",className:"button",onClick:this.addTableRow},"Add Table"))}}]),t}(n.Component),v=a(7),T=[],O=[],C=0,j=0,E=[],N={};function R(e){return function(e){C=e.totalRounds,j=e.totalPlayers,E=e.tables,N={kidsTable:e.kidsTable,changePeople:e.changePeople,changeTables:e.changeTables},T=P(),O=k()}(e),function(e){O=k(),T.sort(function(e,t){return.5-Math.random()}),O.sort(function(e,t){return.5-Math.random()});var t=function(e,t){for(var a={playerList:[],maxPlayedWithCount:100,averageMaxPlayedWithCount:100,minUniqueTablesVisited:0},n=0;n<e;n++){w();var l=[],r=100,s=100,i=0;l=x(t),i=Math.min.apply(Math,Object(v.a)(new Set(l.map(function(e){return Object(v.a)(new Set(e.assignedTables)).length})))),r=Math.max.apply(Math,Object(v.a)(l.map(function(e){return Math.max.apply(Math,Object(v.a)(e.playedWith))}))),o=l.map(function(e){return Math.max.apply(Math,Object(v.a)(e.playedWith))}),s=o.reduce(function(e,t){return t+=e})/o.length,a=S(l,i,r,s,a)}var o;return a}(500,C);return console.log("RESULT",t),t}(e.totalRounds)}function P(){for(var e=[],t=0;t<j;t++){var a={id:t,assignedTables:[],uniqueTables:0,playedWithCount:0,playedWith:new Array(j).fill(0,0)};e.push(JSON.parse(JSON.stringify(a)))}return JSON.parse(JSON.stringify(e))}function k(){var e=E.map(function(e){return Object(y.a)({},e,{currentPlayers:[],isFull:!1})});return JSON.parse(JSON.stringify(e))}function w(){O=k(),T=P()}function S(e,t,a,n,l){var r=!N.changePeople||a<=l.maxPlayedWithCount,s=!N.changePeople||n<=l.averageMaxPlayedWithCount,i=!N.changeTables||t>l.minUniqueTablesVisited;return r&&s&&i?{playerList:e,maxPlayedWithCount:a,averageMaxPlayedWithCount:n,minUniqueTablesVisited:t}:l}function x(e){for(var t=0;t<e;t++)O.forEach(function(e){e.isFull=!1,e.currentPlayers=[]}),T.sort(function(e,t){return.5-Math.random()}),O.sort(function(e,t){return.5-Math.random()}),T.forEach(function(e){var t=O.find(function(e){return!e.isFull});e.assignedTables.includes(t.id)||e.uniqueTables++,e.assignedTables.push(t.id),t.currentPlayers.push(e),t.currentPlayers.length===t.size&&(t.isFull=!0),t.currentPlayers.forEach(function(t){e.id!==t.id&&(e.playedWith[t.id]++,t.playedWith[e.id]++,e.playedWithCount++)})});return JSON.parse(JSON.stringify(T))}var W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).handleOptionsChange=function(e){a.setState({options:e})},a.handleNumPlayersChange=function(e){a.setState({totalPlayers:parseInt(e.target.value)?parseInt(e.target.value):0})},a.handleNumRoundsChange=function(e){a.setState({totalRounds:parseInt(e.target.value)?parseInt(e.target.value):0})},a.handleNumKidsChange=function(e){a.setState({totalKids:parseInt(e.target.value)?parseInt(e.target.value):0})},a.handleTablesChange=function(e){a.setState({tables:e})},a.handleClearForm=function(e){e.preventDefault(),a.setState({options:["changePeople"],totalPlayers:0,totalRounds:0,totalKids:0,tables:[{id:1,name:"Table 1",size:4}],result:{}})},a.handleFormSubmit=function(e){e.preventDefault();var t={changePeople:a.state.options.includes("changePeople"),changeTables:a.state.options.includes("changeTables"),kidsTable:a.state.options.includes("kidsTable"),totalPlayers:a.state.totalPlayers,totalRounds:a.state.totalRounds,totalKids:a.state.options.includes("kidsTable")?a.state.totalKids:0,numTables:a.state.tables.length,tables:a.state.tables};console.log("Send this in a POST request:",t);var n=t.tables.reduce(function(e,t){return e+t.size},0);if(t.totalPlayers!==n)throw new Error("Number of players must match number of table spots");var l=R(t);a.props.handleTablesReady(a.state.tables),a.props.handleResultReady(l),a.setState({firstRun:!1})},a.handleOptionsChange=a.handleOptionsChange.bind(Object(h.a)(Object(h.a)(a))),a.handleNumPlayersChange=a.handleNumPlayersChange.bind(Object(h.a)(Object(h.a)(a))),a.handleNumRoundsChange=a.handleNumRoundsChange.bind(Object(h.a)(Object(h.a)(a))),a.handleNumKidsChange=a.handleNumKidsChange.bind(Object(h.a)(Object(h.a)(a))),a.handleTablesChange=a.handleTablesChange.bind(Object(h.a)(Object(h.a)(a))),a.handleClearForm=a.handleClearForm.bind(Object(h.a)(Object(h.a)(a))),a.handleFormSubmit=a.handleFormSubmit.bind(Object(h.a)(Object(h.a)(a))),a.state={firstRun:!0,options:["changePeople","changeTables"],totalPlayers:10,totalRounds:4,totalKids:0,tables:[{id:1,name:"Table 1",size:2},{id:2,name:"Table 2",size:2},{id:3,name:"Table 3",size:3},{id:4,name:"Table 4",size:3}],result:{}},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.options,a=e.totalPlayers,n=e.totalRounds,r=e.totalKids,s=e.tables;return l.a.createElement("div",null,l.a.createElement("h2",null,"Enter Your Data"),l.a.createElement(m,{options:t,onOptionsChange:this.handleOptionsChange}),l.a.createElement(f,{isKidsTable:!!t.includes("kidsTable"),totalPlayers:a,totalRounds:n,totalKids:r,handleNumPlayersChange:this.handleNumPlayersChange,handleNumRoundsChange:this.handleNumRoundsChange,handleNumKidsChange:this.handleNumKidsChange}),l.a.createElement(g,{tables:s,handleTablesChange:this.handleTablesChange}),l.a.createElement("button",{type:"submit",className:"button run-button",onClick:this.handleFormSubmit},this.state.firstRun?"Run":"Run Again"))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).download=function(){var e=a.formatData(a.props.result.playerList.sort(function(e,t){return e.id-t.id})),t=btoa(e),n="data:text/octet-stream;base64,".concat(t),l=document.createElement("a");l.href=n,l.setAttribute("download","gamefest.txt"),l.click()},a.toBijective=function(e){return(e>26?a.toBijective(Math.floor((e-1)/26)):"")+((e%26||26)+9).toString(36).toUpperCase()},a.formatData=function(e){var t="";return e.forEach(function(e){var n="Player ".concat(a.toBijective(e.id+1)),l="";e.assignedTables.forEach(function(e,t){var n=a.props.tables.find(function(t){return t.id===e});l+="Round ".concat(t+1,": ").concat(n.name,"\n")}),t+="".concat(n,"\n").concat(l,"\n\n")}),t},a.renderPlayerRow=a.renderPlayerRow.bind(Object(h.a)(Object(h.a)(a))),a.renderTableRow=a.renderTableRow.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"renderPlayerRow",value:function(e){var t=this;return l.a.createElement("li",{key:e.id,className:"result-list-item"},l.a.createElement("p",null,"Player ",e.id+1,":"),l.a.createElement("ol",null,e.assignedTables.map(function(a,n){return t.renderTableRow(e.id,n,a)})))}},{key:"renderTableRow",value:function(e,t,a){var n=this.props.tables.find(function(e){return e.id===a});return l.a.createElement("li",{key:e+"-"+t,className:"result-list-item"},n.name," (",n.size,")")}},{key:"renderPlayedWith",value:function(e){return e.map(function(e){return l.a.createElement("li",null,e.id," ",e.playedWithCount)})}},{key:"render",value:function(){var e=this,t=this.props.result;return console.log(t),l.a.createElement("div",null,l.a.createElement("h2",null,"Results"),l.a.createElement("p",null,"Max of Everyone's Max Times Played With Someone: ",t.maxPlayedWithCount),l.a.createElement("p",null,"Average of Everyone's Max Times Played With Someone: ",Math.round(100*t.averageMaxPlayedWithCount)/100),l.a.createElement("p",null,"Minimum Number of Unique Tables Visited: ",t.minUniqueTablesVisited),l.a.createElement("button",{onClick:function(){return e.download()},className:"download-button"},"Download This Result"),l.a.createElement("ol",null,t.playerList.length>0&&t.playerList.sort(function(e,t){return e.id-t.id}).map(function(t){return e.renderPlayerRow(t)})))}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).handleResultReady=function(e){a.setState({result:e})},a.handleTablesReady=function(e){a.setState({tables:e})},a.handleResultReady=a.handleResultReady.bind(Object(h.a)(Object(h.a)(a))),a.handleTablesReady=a.handleTablesReady.bind(Object(h.a)(Object(h.a)(a))),a.state={result:{playerList:[],maxPlayedWithCount:0,averageMaxPlayedWithCount:0,minUniqueTablesVisited:0}},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("h1",null,"GameFest"),l.a.createElement("div",{className:"App-body"},l.a.createElement("div",{className:"left-pane"},l.a.createElement(W,{handleResultReady:this.handleResultReady,handleTablesReady:this.handleTablesReady})),l.a.createElement("div",{className:"right-pane"},l.a.createElement(M,{result:this.state.result,tables:this.state.tables}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,2,1]]]);
//# sourceMappingURL=main.c6952a16.chunk.js.map